System.register("chunks:///Player.js",["./_virtual/_rollupPluginBabelHelpers.js","cc"],(function(i,t){var e,r,n,o,a,c,l,s,u,p,d,f,h,y,b,v,P,_,g,m;return i({_dec:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_temp:void 0}),{setters:[function(i){e=i.applyDecoratedDescriptor,r=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,a=i.defineProperty},function(i){c=i.cclegacy,l=i._decorator,s=i.find,u=i.Label,p=i.Component}],execute:function(){c._RF.push({},"f471054CdFNOoYxGcVmhC9I","Player",void 0),g=l.ccclass,m=l.property,i("Player",(d=g("Player"),d((y=e((h=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return t=i.call.apply(i,[this].concat(r))||this,n(o(t),"HP",y,o(t)),n(o(t),"ATK",b,o(t)),n(o(t),"EXP",v,o(t)),n(o(t),"Crit",P,o(t)),n(o(t),"CritD",_,o(t)),a(o(t),"MaxHp",void 0),t}r(t,i);var e=t.prototype;return e.start=function(){this.MaxHp=this.HP},e.reset=function(i){this.HP=i},e.update=function(i){s("Info",this.node).getComponent(u).string="生命值："+this.HP+"/"+this.MaxHp+"\n攻击力："+this.ATK+"\n经验值："+this.EXP+"\n暴击率："+100*this.Crit+"%\n暴击伤害："+100*this.CritD+"%"},t}(p)).prototype,"HP",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=e(h.prototype,"ATK",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=e(h.prototype,"EXP",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=e(h.prototype,"Crit",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=e(h.prototype,"CritD",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=h))||f)),c._RF.pop()}}}));

System.register("chunks:///Enemy.js",["./_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,t){var r,i,n,o,c,a,s,u,l,p,f,d,y,v;return e({_dec:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){c=e.cclegacy,a=e._decorator,s=e.Component}],execute:function(){c._RF.push({},"8ec21OeeVxEfbc1CgDYIMvZ","Enemy",void 0),y=a.ccclass,v=a.property,e("Enemy",(u=y("Enemy"),u((f=r((p=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,n(o(t),"HP",f,o(t)),n(o(t),"ATK",d,o(t)),t}i(t,e);var r=t.prototype;return r.start=function(){},r.reset=function(e){this.HP=e},r.update=function(e){},t}(s)).prototype,"HP",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=r(p.prototype,"ATK",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=p))||l)),c._RF.pop()}}}));

System.register("chunks:///Battle.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./Player.js","./Enemy.js"],(function(t,n){var e,a,o,i,s,r,l,c,g,p,C,h,m,v,u;return t({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(t){e=t.inheritsLoose,a=t.defineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,r=t.find,l=t.Button,c=t.Label,g=t.UITransform,p=t.Component},function(t){C=t.Player},function(t){h=t.Enemy}],execute:function(){i._RF.push({},"d56f6odbjhHCqU0stzg58sx","Battle",void 0),u=s.ccclass,s.property,s.integer,s.float,s.boolean,s.string,s.type,t("Battle",(m=u("Battle"),m(v=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return n=t.call.apply(t,[this].concat(i))||this,a(o(n),"callback",void 0),a(o(n),"startBtn",void 0),a(o(n),"enemyHp",10),a(o(n),"battleShow",!0),n}e(n,t);var i=n.prototype;return i.start=function(){this.Battle()},i.Battle=function(){this.startBtn=r("Canvas/Battle/Button"),this.startBtn.on(l.EventType.CLICK,this.btnClick,this)},i.btnClick=function(t){r("Canvas/Player").getComponent(C),r("Canvas/Battle/Enemy").getComponent(h);this.startBtn.getComponent(l).interactable=!1,this.checkNums()},i.checkNums=function(){var t=r("Canvas/Battle/ScrollView/view/content/item").getComponent(c);t.string="\n"+t.string;var n=r("Canvas/Player").getComponent(C),e=r("Canvas/Battle/Enemy").getComponent(h);this.schedule(this.callback=function(){var a=n.ATK;Math.random()<n.Crit?(a=n.ATK*n.CritD,t.string="暴击了！你造成了"+a+"点伤害，受到了"+e.ATK+"点伤害\n"+t.string):t.string="你造成了"+a+"点伤害，受到了"+e.ATK+"点伤害\n"+t.string,e.HP-=a,n.HP-=e.ATK,n.HP<=0&&(n.HP=0,t.string="战斗失败\n"+t.string),e.HP<=0&&(n.MaxHp++,n.EXP++,this.enemyHp+=4,e.HP=0,t.string="战斗成功\n"+t.string),(n.HP<=0||e.HP<=0)&&(n.reset(n.MaxHp),e.reset(this.enemyHp),this.startBtn.getComponent(l).interactable=!0,this.unschedule(this.callback))},1)},i.update=function(t){var n=r("Canvas/Player").getComponent(C),e=r("Canvas/Battle/Enemy").getComponent(h);r("Canvas/Battle/Player/Info").getComponent(c).string="Player\nHP："+n.HP.toString(),r("Canvas/Battle/Enemy/Info").getComponent(c).string="Enemy\nHP："+e.HP.toString()+"\nATK: "+e.ATK.toString(),console.log(r("Canvas/Battle/ScrollView/view/content").getComponent(g).height),r("Canvas/Battle/ScrollView/view/content").getComponent(g).height=r("Canvas/Battle/ScrollView/view/content/item").getComponent(g).height},n}(p))||v)),i._RF.pop()}}}));

System.register("chunks:///UI.js",["./_virtual/_rollupPluginBabelHelpers.js","cc"],(function(t,e){var o,n,a,l,r,i,s,p,c,f,y,C;return t({_dec:void 0,_class:void 0}),{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,l=t.Button,r=t.find,i=t.Sprite,s=t.Color,p=t.Animation,c=t.Component}],execute:function(){n._RF.push({},"4211e/PRFxGa4OlVYyIy4re","UI",void 0),C=a.ccclass,a.property,t("UI",(f=C("UI"),f(y=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.start=function(){this.node.getChildByName("toPlayer").on(l.EventType.CLICK,this.toPlayer,this),this.node.getChildByName("toBattle").on(l.EventType.CLICK,this.toBattle,this)},n.toPlayer=function(){r("Canvas/UI/toPlayer").getComponent(i).color=new s("#ffffff"),r("Canvas/UI/toBattle").getComponent(i).color=new s("#646464"),r("Canvas/Battle").getComponent(p).play("toright"),r("Canvas/Player").getComponent(p).play("PlayerToRight")},n.toBattle=function(){r("Canvas/UI/toPlayer").getComponent(i).color=new s("#646464"),r("Canvas/UI/toBattle").getComponent(i).color=new s("#ffffff"),r("Canvas/Battle").getComponent(p).play("toleft"),r("Canvas/Player").getComponent(p).play("PlayerToLeft")},e}(c))||y)),n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["../Player.js","../Enemy.js","../Battle.js","../UI.js"],(function(n,t){return{setters:[function(n){},function(n){},function(n){},function(n){}],execute:function(){}}}));

(function(r) {
  r('project:///assets/js/Player.js', 'chunks:///Player.js');
  r('project:///assets/js/Enemy.js', 'chunks:///Enemy.js');
  r('project:///assets/js/Battle.js', 'chunks:///Battle.js');
  r('project:///assets/js/UI.js', 'chunks:///UI.js');
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});